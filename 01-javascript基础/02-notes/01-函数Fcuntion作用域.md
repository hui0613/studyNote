## 函数作用域

### 执行期上下文：
> 当函数在执行是，会产生一个称为`执行期上下文`的内部对象（活动对象--AO（`Activation Object`））。一个执行期上下文定一个了一个函数执行时的运行环境，函数每次执行是的执行上下文都是独一无二的，函数执行完毕是，执行上下文会被销毁。

### 作用域
> [[scope]]指的就是我们常说的作用域，其中储存了运行期上下文的集合

### 作用域链
> [[scope]]中所储存的执行期上下文对象的集合，这个集合成链式链接，因此成为作用域链

**查找变量的时候从作用域链的顶端向下寻找**

```
function a(){
    var num = 12
    function b(){
        num ++ 
        console.log(num)
    }
    b()
}
a()
```

**上述代码在执行过程中作用域链的变化过程**

+ a 函数被创建时

![](../picture/闭包a函数被创建是的作用域链图示.png)

+ a函数被执行时

![](../picture/闭包a函数被执行时作用域链图示.png)

+ b 函数被创建时

**由于 b 函数是在 a 函数内部定义的，因此 在 b 函数被创建时会直接继承 a 函数已经存在的作用域链**

![](../picture/闭包b函数被创建是作用域链图示.png)

+ b 函数被执行时

![](../picture/闭包b函数被执行时作用域链图示.png)