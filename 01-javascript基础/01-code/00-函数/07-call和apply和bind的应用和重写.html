<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bind/call/apply的应用和重写</title>
  </head>
  <body>
    <script>
      // 使用 call和apply改变 this 指向
      var p1 = {
        name: "zhangsan",
        age: 10,
        play: function () {
          console.log(this.name + " ," + this.age);
        },
      };

      var p2 = {
        name: "lisi",
        age: 30,
      };

      p1.play.call(p2, "lisi", 20);
      p1.play.apply(p2, ["lisi", 20]);

      //   使用 bind 改变 this 指向
      /**
       * bind 改变 this 指向之后返回一个新的函数，并不会立即执行，需要添加执行符号
       *
       * call 和 apply 改变 this 指向后会立即执行函数
       */
      p1.play.bind(p2, "lisi", 30)();

      // 使用 call 和 apply 模拟 bind

      var p = {
        age: 123,
      };

      function Person() {
        console.log(this);
        console.log(this.age);
      }

      Person.call(p);
      Person.apply(p);
      Person.bind(p)();
    </script>
  </body>
</html>
