<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>归并排序</title>
</head>

<body>
    <!-- 利用归并的思想
        归并排序时分治法非常典型的一个应用（分治法是将问题分解成许多个小问题，然后递归求解，
        而治的阶段是将分的阶段得到的结果整合在一块，得到原始问题的结果）
        1.将已有序的子序列合并，得到完全有序的序列
        2.即先使每个子序列有序，在使子序列段间有序
        3.若将有个有序列表合并成一个有序列表，成为二路合并


        归并排序思路：
        分割：
            1.将数组从中间分割，分为左右两个数组
            2.递归分割左右数组，直到数组程度小于2
        归并：
            1.如果需要合并，那么左右两边的数组已经有序了
            2.创建一个临时存储数组，比较两个数组的第一个元素，将较小的元素放入临时数组中
            3.若左右两个数组中有一个数组为空，那么此时另一个数组中的所有元素一定大于临时数组中的所有元素，直接将其所有元素加入到临时数组中即可

            时间复杂度：O(nlogn) 空间复杂度：O(n)
     -->
    <script>
        function mergeSort(arr, left, right, temp) {
            // alert(arr)
            if (left < right) {
                //数组长度大于2是
                const mid = Math.floor((left + right) / 2);
                mergeSort(arr, left, mid, temp);
                mergeSort(arr, mid + 1, right, temp);
                mege(arr, left, right, temp)
            }
            return arr
        }

        function mege(arr, left, right, temp) {
            const mid = Math.floor((left + right) / 2);
            let leftIndex = left;
            let rightIndex = mid + 1;
            var tempIndex = 0;
            while (leftIndex <= mid && rightIndex <= right) {
                // 左右两个数组都还有元素时
                if (arr[leftIndex] < arr[rightIndex]) {
                    temp[tempIndex++] = arr[leftIndex++]
                } else {
                    temp[tempIndex++] = arr[rightIndex++]
                }
            }
            while (leftIndex <= mid) {
                temp[tempIndex++] = arr[leftIndex++]
            }
            while (rightIndex <= right) {
                temp[tempIndex++] = arr[rightIndex++]
            }

            tempIndex = 0;
            for (let i = left; i <= right; i++) {
                arr[i] = temp[tempIndex++]
            }
            // return arr
        }

        let arr = [5, 6, 34, 23, 7, 34, 123]
        var temp = []
        // alert("demo")
        alert(mergeSort(arr, 0, arr.length, temp))
    </script>
</body>

</html>